<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Storage V2 DApp</title>
  <link rel="stylesheet" href="index.css" />
  <script src="https://cdn.jsdelivr.net/npm/ethers@6"></script>
</head>
<body>

  <div class="container">
    <header>
      <h1>ğŸš€ Storage V2 DApp</h1>
      <p>Decentralized Storage Smart Contract on GIWA Sepolia Testnet</p>
    </header>

    <div id="status">âœ… Ethers.js loaded successfully!</div>
    <div id="network-warning">âš ï¸ Make sure you're connected to GIWA Sepolia Testnet!</div>

    <section class="card">
      <h2>ğŸ“Š Contract Information</h2>
      <p><strong>Contract Address:</strong> <span id="contract-address">Loading...</span></p>
      <p><strong>Current Stored Value:</strong> <span id="current-value">Loading...</span></p>
      <p><strong>Contract Owner:</strong> <span id="contract-owner">Loading...</span></p>
      <p><strong>Your Address:</strong> <span id="user-address">Not connected</span></p>
      <p><strong>Are you the owner?</strong> <span id="is-owner">-</span></p>
      <p><strong>Network:</strong> <span id="network-info">Not connected</span></p>
    </section>

    <section class="card">
      <h2>ğŸ” Connect Your Wallet</h2>
      <div class="button-group">
        <button onclick="connectWallet()">ğŸ¦Š MetaMask / Rabby</button>
        <button onclick="disconnectWallet()">âŒ Disconnect</button>
      </div>
    </section>

    <section class="card">
      <h2>ğŸ’¾ Store New Value</h2>
      <p id="store-warning">Only the contract owner can store values. This demonstrates access control in smart contracts.</p>
      <input type="number" id="value-input" placeholder="Enter any number (e.g., 42)" />
      <button id="store-btn" onclick="storeValue()" disabled>ğŸ’¾ Store Value</button>
    </section>

    <section class="card">
      <h2>ğŸ‘‘ Transfer Ownership</h2>
      <p>Transfer contract ownership to another Ethereum address. Be careful - this action cannot be undone!</p>
      <input type="text" id="new-owner-input" placeholder="New owner address (0x...)" />
      <button id="transfer-btn" onclick="transferOwnership()" disabled>ğŸ‘‘ Transfer Ownership</button>
    </section>

    <section class="card">
      <h2>ğŸ“œ Recent Storage Events</h2>
      <button onclick="loadEvents()">ğŸ“œ Load Recent Events</button>
      <ul id="events-list"></ul>
    </section>

    <section class="card">
      <h2>ğŸ”§ Contract Functions</h2>
      <div class="button-group">
        <button onclick="retrieve()">ğŸ“– Call retrieve()</button>
        <button onclick="callNumber()">ğŸ”¢ Call number()</button>
        <button onclick="getOwner()">ğŸ‘¤ Call owner()</button>
        <button onclick="getContractInfo()">â„¹ï¸ Call getContractInfo()</button>
      </div>
    </section>

    <footer>
      Built with â¤ï¸ using Solidity, Ethers.js, and deployed on GIWA Sepolia Testnet<br/>
      Contract Address: <a href="https://sepolia-explorer.giwa.io/address/0x61123b7a22d2f1b8c2c4becc8333e8e4209cce28" target="_blank">0x61123b...cce28</a>
    </footer>
  </div>

  <script src="index.js"></script>
</body>
</html>
